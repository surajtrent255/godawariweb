
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<title>गोदावरी नगरपालिका, ललितपुर</title>
<link rel="icon" th:href="@{/assets/images/favicon1.ico}"
	href="assets/images/favicon1.ico" type="image/x-icon" />
<link th:href="@{/assets/plugins/vectormap/jquery-jvectormap-2.0.2.css}"
	href="assets/plugins/vectormap/jquery-jvectormap-2.0.2.css"
	rel="stylesheet" />
<link th:href="@{/assets/plugins/simplebar/css/simplebar.css}"
	href="assets/plugins/simplebar/css/simplebar.css" rel="stylesheet" />
<link th:href="@{/assets/css/bootstrap.min.css}"
	href="assets/css/bootstrap.min.css" rel="stylesheet" />
<link th:href="@{/assets/css/animate.css}" href="assets/css/animate.css"
	rel="stylesheet" type="text/css" />
<link th:href="@{/assets/css/icons.css}" href="assets/css/icons.css"
	rel="stylesheet" type="text/css" />
<link th:href="@{/assets/css/sidebar-menu.css}"
	href="assets/css/sidebar-menu.css" rel="stylesheet" />
<link rel="stylesheet"
	th:href="@{/assets/plugins/nepali-datepicker/nepaliDatePicker.min.css}"
	href="assets/plugins/nepali-datepicker/nepaliDatePicker.min.css">
<link th:href="@{/assets/css/app-style.css}"
	href="assets/css/app-style.css" rel="stylesheet" />
<link rel="stylesheet"
	th:href="@{/assets/plugins/datatable/datatables.min.css}"
	href="assets/plugins/datatable/datatables.min.css">
<link rel="stylesheet"
	th:href="@{/assets/plugins/jquery.steps/css/jquery.steps.css}"
	href="assets/plugins/jquery.steps/css/jquery.steps.css">
<style>
.householdForm .form-radio label, .householdForm .form-checkbox label {
	display: inline-block;
	margin-right: 5px;
	font-weight: bold;
}

.householdForm .form-radio input, .householdForm .form-checkbox input {
	margin-right: 5px;
}

.householdForm .col-lg-3.col-md-4 {
	margin-bottom: 8px;
	margin-top: -2px;
	margin-left: -1px;
}
</style>
<script th:src="@{/assets/js/jquery.min.js}"
	src="assets/js/jquery.min.js"></script>
</head>
<body>
	<div id="wrapper">

		<!-- 		Sidebar and header -->
		<div th:replace="~{fragments/private-sidebar :: private-sidebar}"></div>
		<header th:replace="~{fragments/header}" class="header1"> </header>

		<div class="clearfix"></div>
		<div class="content-wrapper">
			<div class="container-fluid" id="pjax-container">
				<div class="row pt-2 pb-2">
					<div class="col-sm-9">
						<h4 class="page-title">नगरबासी बिवरण कम्प्युटर प्रणाली</h4>
						<ol class="breadcrumb">
							<li class="breadcrumb-item"><a href="javaScript:void();">Home</a></li>
							<li class="breadcrumb-item active" aria-current="page">Add
								Household</li>
						</ol>
					</div>
				</div>
				<div class="card"
					th:if="${questionAndOptions != null && #lists.size(questionAndOptions) > 0}">
					<div class="card-body">
						<div class="card-title">Fill up information about house.</div>
						<form name="surveyAnswerForm" id="surveyAnswerForm" method="POST"
							action="" th:action="@{/survey-answer}" th:object="${answerObj}"
							data-ajax="true" data-action="" enctype="multipart/form-data"
							class="unicode householdForm">
							<input type="hidden" name="_token"
								value="8c82ziy1cyPf0NeyqhEeRv0dAIMt2CyuvpgsRMOu"> <input
								type="hidden" name="_method" value="post">
							<div class="row">
								<!-- dynamic code begins -->

								<div class="col-lg-3 col-md-4"
									th:each="questionAndOption, i : ${questionAndOptions}">
									<div class="form-group form-label"
										th:if="${questionAndOption.type == 'TEXT' || questionAndOption.type == 'MULTI_TEXT'}">
										<label th:for="${questionAndOption.id}">
											<h4 th:text="${questionAndOption.desc}"></h4>
										</label> <input type="text" class="form-control  "
											th:id="${questionAndOption.id}"
											th:name="${questionAndOption.id}" th:text="${i.index} + 1"
											th:field="*{answer1}" value="">
									</div>
									<div class="form-group form-label"
										th:if="${questionAndOption.type} == 'NUMBER'">
										<label th:for="${questionAndOption.id}">
											<h4 th:text="${questionAndOption.desc}"></h4>
										</label> <input type="number" class="form-control  "
											th:id="${questionAndOption.id}" name="househead_name"
											value="">
									</div>

									<div class="form-group form-label"
										th:if="${questionAndOption.type== 'RADIO' || questionAndOption.type == 'RADIO_D'}">
										<label th:for="${questionAndOption.id}"><h4
												th:text="${questionAndOption.desc}"></h4></label> <select
											class="form-control" name="caste" id="caste">
											<option value=""></option>
											<option th:value="${indx.index}"
												th:each="option, indx : ${questionAndOption.options}"
												th:text="${option}"></option>
										</select>
									</div>
									<div class="form-group form-label water_source"
										th:if="${questionAndOption.type} == 'CHECKBOX'">
										<label th:for="${questionAndOption.id}"><h4
												th:text="${questionAndOption.desc}">पानी :</h4></label>
										<div class="form-group form-radio  ">
											<label th:each="option, indx : ${questionAndOption.options}"><input
												type="checkbox" name="water_source[]"
												th:value="${indx.index}" data-event="toggle"
												data-target="water_source_other" data-value="3"><span
												th:text="${option}"></span></label>
										</div>
									</div>
									<div class="form-group form-label"
										th:if="${questionAndOption.type} == 'IMAGE'">
										<label th:for="${questionAndOption.id}"><h4
												th:text="${questionAndOption.desc}">फोटो :</h4></label> <input
											type="file" class="form-control  "
											th:id="'photo' + ${questionAndOption.id}"
											th:name="'photo' + ${questionAndOption.id}" value=""
											data-event="change" data-target="photo" accept="image/*">

										<a href="" style="display: none" target="_blank"
											class="no-pjax"><img src="" style="display: none"
											class="img-thumbnail photo"></a>
									</div>

									<div class="form-group form-label foreign_study"
										th:if="${questionAndOption.type} == 'CHECKBOX_N'">
										<label th:for="${questionAndOption.id}"><h4
												th:text="${questionAndOption.desc}">बैदेशिक अध्ययन :</h4> </label>
										<div class="form-group form-radio  ">
											<label th:each="option,indx : ${questionAndOption.options}">
												<input type="checkbox"
												th:name="'foreign_study[' + ${indx.index}+ ${i.index + 1} +']'"
												th:value="${indx.index}" data-event="toggle"
												th:data-target="'foreign_study_source_' + ${indx.index} + ${questionAndOption.id}"
												th:data-value="${indx.index}"><span
												th:text="${option}"></span> <input type="text"
												th:name="'foreign_study_source_count[' + ${indx.index} + ${questionAndOption.id} + ']'"
												class="numeric"
												th:class="'foreign_study_source_' + ${indx.index} + ${questionAndOption.id}"
												placeholder="संख्या खुलाउनु होस्" value=" 1 "
												style="width: 50px; display: none">
											</label>
										</div>
									</div>

									<div class="form-group form-label water_source"
										th:if="${questionAndOption.type} == 'RATING_M'">
										<label th:for="${questionAndOption.id}"><h4
												th:text="${questionAndOption.desc}">पानी :</h4></label>
										<div class="form-group form-radio  ">
											<label th:each="option, indx : ${questionAndOption.options}"><span
												th:text="${option}"></span><select>
													<option value=""></option>
													<option value="1">1</option>
													<option value="2">2</option>
													<option value="3">3</option>
													<option value="4">4</option>
													<option value="5">5</option>
													<option value="6">6</option>
													<option value="7">7</option>
											</select></label>
										</div>
									</div>

									<div class="form-group form-label"
										th:if="${questionAndOption.type} == 'GPS'">
										<label th:for="${questionAndOption.id}"><h4
												th:text="${questionAndOption.desc}">फोटो :</h4></label> <input
											type="button" class="form-control  "
											th:id="'photo' + ${questionAndOption.id}"
											th:name="'photo' + ${questionAndOption.id}" value=""
											data-event="change" data-target="photo2" accept="image/*">

									</div>
									<div class="form-group form-label"
										th:if="${questionAndOption.type== 'DISTRICT'}">
										<label for="caste"><h4
												th:text="${questionAndOption.desc}"></h4></label> <select
											class="form-control" name="caste" id="caste">
											<option value=""></option>
											<option th:value="${indx.index}"
												th:each="option, indx : ${districts}" th:text="${option}"></option>
										</select>
									</div>



								</div>

								<!--Dynamic code ends  -->

							</div>
							<div class="row">
								<div class="col-lg-4 col-md-4">
									<div class="form-group form-label">
										<label for="information_giver"><h4>विवरण दिने :</h4></label> <input
											type="text" class="form-control" id="information_giver"
											name="information_giver" value="">
									</div>
								</div>
								<div class="col-lg-4 col-md-4">
									<div class="form-group form-label">
										<label for="survey_date"><h4>मिति :</h4></label> <input
											type="text" class="form-control" id="survey_date"
											name="survey_date" value="">
									</div>
								</div>
								<div class="col-lg-4 col-md-4">
									<div class="form-group form-label">
										<label for="collector_name"><h4>तथ्यांक संकलन :</h4></label> <input
											type="text" class="form-control" id="collector_name"
											name="collector_name" value="">
									</div>
								</div>
							</div>
							<input type="submit" class="btn btn-primary px-5"
								name="category-submit-name" value="Add House"
								style="margin-top: 10px" id="submit_btn">
						</form>
					</div>
				</div>
			</div>
		</div>

		<a href="javaScript:void();" class="back-to-top"><i
			class="fa fa-angle-double-up"></i> </a>
		<footer th:replace="~{fragments/footer :: footer}"></footer>
	</div>
	<script th:src="@{/assets/customjs/savehousehold.js}"
		src="assets/customjs/savehousehold.js"></script>
	<script
		th:src="@{/assets/plugins/nepali-datepicker/nepaliDatePicker.min.js}"
		src="assets/plugins/nepali-datepicker/nepaliDatePicker.min.js"></script>
	<script>
		$(function() {
			var _t, _n, _d, _v;
			$("input[data-event='change']").on("change", function() {
				_t = this;
				_c = $(this).data("target");
				if (_t.files && _t.files[0]) {
					var reader = new FileReader();
					reader.onload = function(e) {
						$('img.' + _c).attr('src', e.target.result).show();
						$('img.' + _c).parent().show();
					}
					reader.readAsDataURL(_t.files[0]);
				}
			});
			$("#documents_copy").on("change", function() {
				_v = $(this).val();
				$(".documents_hide").hide();
				$("div." + _v).show();

			});
			$("[data-event='toggle']").on("change", function() {
				_t = $(this);
				_n = $(this).attr("name");
				_d = $("[name='" + _n + "']").serializeArray();
				_c = _t.data("target");
				if (_d.length > 0 && _t.is(':checked')) {
					$.each(_d, function(i, fd) {
						if (fd.value == _t.data("value")) {
							$("." + _c).show();
						}
					});
				} else {
					$("." + _c).hide();
				}
			});
			$("#survey_date").nepaliDatePicker({
				dateFormat : "%y-%m-%d",
				closeOnDateSelect : true
			});
		});

		google.load("elements", "1", {
			packages : "transliteration"
		});
		function onLoad() {
			var options = {
				sourceLanguage : 'en',
				destinationLanguage : [ 'ne' ],
				shortcutKey : 'ctrl+g',
				transliterationEnabled : true
			};
			var control = new google.elements.transliteration.TransliterationControl(
					options);
			var uniElement = $(".unicode input[type='text'], #grid_filter input");
			control.makeTransliteratable(uniElement);
			// control.showControl('translControl');
		}

		$(window).on("load", function(e) {
			onLoad();
		})

		$(document).on('pjax:complete', function() {
			onLoad();
		})
	</script>
</body>
</html>
